language: python
python:
- '3.2'
- '3.3'
- '3.4'
install:
- pip install .
script: nosetests
deploy:
  provider: pypi
  server: https://pypi.python.org/pypi
  user: seiferma
  password:
    secure: BQpwKPokH5b6+ATEHd68b3AySoe6tIFTaLFZhR5pOU21weHnRcpYF9l2+owv6Db7ynhJ6XSyWuVwNQU5MXe0cp2/YZMrPr63spQe9mNaZieQb/AAL3y3tLQRjd3SCBq8853fIRaWWmnJ2Tr4eetfbr9IAPWD3EPPq+3aqCnmLoI=
  on:
    tags: true
    condition: $TRAVIS_PYTHON_VERSION = '3.3'
after_deploy:
  - git clone https://github.com/seiferma/travis-utils.git
  - python travis-utils/validate_pypi.py -v || exit 1
